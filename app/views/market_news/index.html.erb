<h1 class="text-3xl md:text-4xl font-syne font-bold text-font mb-10">
  Market News
</h1>

<div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">

  <% @news.each do |n| %>
    <%= link_to n["url"], target: "_blank", rel: "noopener", class: "group block" do %>

      <article class="bg-surface-2 rounded-xl overflow-hidden shadow-lg border border-border hover:border-primary transition-all duration-300 group">

        <% if n["image"].present? %>
          <div class="overflow-hidden">
            <%= image_tag n["image"], alt: n["headline"],
                          class: "w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300" %>

          </div>
        <% end %>

        <div class="p-6 flex flex-col h-full">

          <h2 class="font-syne text-lg font-semibold text-font mb-3 group-hover:text-primary transition-colors duration-200">
            <%= n["headline"] %>
          </h2>

          <p class="text-sm text-muted leading-relaxed mb-4 flex-grow">
            <%= truncate(n["summary"], length: 120) %>
          </p>

          <div class="flex items-center justify-between text-xs text-dim mt-auto">
            <span><%= n["source"] %></span>
            <span><%= Time.at(n["datetime"]).strftime("%b %d, %Y") %></span>
          </div>

        </div>
      </article>
    <% end %>
  <% end %>

</div>

<!-- Pagination -->
<% if @pagy.next %>
  <div class="mt-12">
    <%== @pagy.series_nav %>
  </div>
<% end %>
